import{_ as h,o as _,c as m,a as t,t as v,p as w,b,w as $,v as L,u as S,d as T,s as u,R as C,r as p,e as c,f as I,g as f,h as D}from"./index-9cc15abc.js";const V={props:["text"]},y=e=>(w("data-v-bf1c3d85"),e=e(),b(),e),R={id:"divider",class:"flex items-center gap-4"},U=y(()=>t("div",{class:"divider"},null,-1)),j={class:"font-bold"},q=y(()=>t("span",{class:"divider"},null,-1));function F(e,o,s,a,n,i){return _(),m("div",R,[U,t("span",j,v(s.text?s.text:"OR"),1),q])}const B=h(V,[["render",F],["__scopeId","data-v-bf1c3d85"]]),E={props:["type","placeholder"],data(){return{value:""}}},N={class:"border border-black px-4 h-14 rounded-[8px] flex items-center"},O=["type","placeholder"];function A(e,o,s,a,n,i){return _(),m("div",N,[$(t("input",{type:s.type?s.type:"text",placeholder:s.placeholder?s.placeholder:"","onUpdate:modelValue":o[0]||(o[0]=r=>n.value=r),onKeypress:o[1]||(o[1]=r=>e.$emit("value",n.value)),onChange:o[2]||(o[2]=r=>e.$emit("value",n.value)),onFocusout:o[3]||(o[3]=r=>e.$emit("value",n.value)),class:"w-full bg-transparent text-black placeholder-black outline-none"},null,40,O),[[L,n.value]])])}const M=h(E,[["render",A]]),P="/qrcode.png",G="/hubforecast.png",K="/g.png",z="/github-mark-white.png";const x=S(),H={data(){return{form:{email:"",password:""},indirectLoginToken:""}},methods:{async login(){try{let e={url:"https://192.168.100.29:3000/session",method:"POST",withCredentials:!0,data:{email:this.form.email,password:this.form.password}},o=await T(e);if(o){if(x.setToken(o.data),this.setCookie("token",o.data,1),this.$route.query.postLoginURL)return this.$router.push(this.$route.query.postLoginURL);this.$router.push("/home")}}catch(e){console.log(e)}},password(e){this.form.password=e},email(e){this.form.email=e},setCookie(e,o,s){var a=new Date;a.setTime(a.getTime()+s*24*60*60*1e3);var n="expires="+a.toUTCString(),i=location.protocol==="https:"?"Secure":"";document.cookie=e+"="+o+"; "+n+"; path=/; SameSite=Strict; "+i},github(){window.location.href="https://192.168.100.29:3000/session/auth/github"}},mounted(){console.log(),u.emit("indirectLoginToken"),u.on("indirectLoginToken",e=>{this.indirectLoginToken=e}),u.on("indirectLoginGrant",e=>{x.setToken(e.token),window.location.href=window.location.origin+"/"+e.displayId})},components:{divider:B,formInput:M,RouterLink:C}},l=e=>(w("data-v-c53926fc"),e=e(),b(),e),J={class:"w-full h-[94vh] sm:h-[100vh] flex items-center justify-center overflow-none bg-primary sm:grid sm:grid-cols-2 sm:p-12"},Q={class:"hidden h-full sm:flex flex-col items-center justify-center gap-3 border-r-4 border-black"},W=l(()=>t("img",{src:P,alt:"Scan this qr code and connect using your smartphone"},null,-1)),X={class:"text-5xl font-bold"},Y={class:"h-[70vh] w-[80vw] sm:w-full sm:h-full sm:px-24 2xl:py-[7em] flex flex-col justify-between"},Z=l(()=>t("div",{class:"flex flex-col gap-4"},[t("img",{src:G,alt:"hubForecast brand",class:"w-[6em] sm:w-[7em] 2xl:w-[12em]"}),t("h1",{class:"text-2xl font-bold 2xl:pb-0 sm:pb-4 pb-0"},"Sign in to continue")],-1)),ee={id:"social-login",class:"flex flex-col gap-4 items-start"},te=l(()=>t("button",{class:"2xl:h-14 sm:h-10 h-14 w-full bg-white flex items-center gap-4 px-4 hover:bg-[#DCDCDC] duration-[.4s]"},[t("img",{src:K,alt:"google 'g' brand",class:"w-8 sm:w-5 2xl:w-8"}),t("span",{class:"2xl:text-xl sm:text-sm text-xl roboto text-[000000]",style:{"font-weight":"700"}},"Log in with google")],-1)),oe=l(()=>t("img",{src:z,alt:"google 'g' brand",class:"w-8 sm:w-5 2xl:w-8"},null,-1)),se=l(()=>t("span",{class:"2xl:text-xl sm:text-sm text-xl roboto text-[white]",style:{"font-weight":"700"}},"Log in with github",-1)),ne=[oe,se],ie=l(()=>t("span",{class:"text-right"},[t("a",{href:"#",class:"font-bold hover:underline"},"Forget password")],-1)),le=l(()=>t("button",{class:"bg-[black] text-white h-14"},[t("span",{class:"text-xl font-bold"},"Entrar")],-1)),ae={class:"flex justify-center w-full"},re={class:"text-right"};function ce(e,o,s,a,n,i){const r=p("divider"),g=p("formInput"),k=p("RouterLink");return _(),m("div",J,[t("div",Q,[W,t("span",X,v(n.indirectLoginToken.replace(/^(\w{3})(\d{4})(\d{3})$/,"$1-$2-$3")),1)]),t("div",Y,[Z,t("section",ee,[te,t("button",{onClick:o[0]||(o[0]=(...d)=>i.github&&i.github(...d)),class:"2xl:h-14 sm:h-10 h-14 w-full bg-black flex items-center gap-4 px-4 hover:bg-[#393939] duration-[.4s]"},ne)]),c(r,{text:"OU"}),t("form",{id:"login",onSubmit:o[1]||(o[1]=I((...d)=>i.login&&i.login(...d),["prevent"])),class:"w-full flex flex-col gap-4"},[c(g,{type:"email",placeholder:"Email",autocomplete:"email",onValue:i.email},null,8,["onValue"]),c(g,{type:"password",placeholder:"Password",onValue:i.password},null,8,["onValue"]),ie,le,t("div",ae,[t("span",re,[f("Don't have an account? "),c(k,{to:{name:"createAccount"},class:"font-bold hover:underline"},{default:D(()=>[f("Sign in")]),_:1})])])],32)])])}const ue=h(H,[["render",ce],["__scopeId","data-v-c53926fc"]]);export{ue as default};
