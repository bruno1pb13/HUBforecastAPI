import{_ as f,o as p,c as u,a as o,t as x,p as v,b as w,w as $,v as S,u as L,d as T,s as c,R as C,r as d,e as r,f as I,g as _,h as V,i as D}from"./index-c60d195c.js";const R={props:["text"]},b=e=>(v("data-v-bf1c3d85"),e=e(),w(),e),U={id:"divider",class:"flex items-center gap-4"},j=b(()=>o("div",{class:"divider"},null,-1)),q={class:"font-bold"},F=b(()=>o("span",{class:"divider"},null,-1));function N(e,t,s,i,n,a){return p(),u("div",U,[j,o("span",q,x(s.text?s.text:"OR"),1),F])}const B=f(R,[["render",N],["__scopeId","data-v-bf1c3d85"]]),E={props:["type","placeholder"],data(){return{value:""}}},O={class:"border border-black px-4 h-14 rounded-[8px] flex items-center"},A=["type","placeholder"];function M(e,t,s,i,n,a){return p(),u("div",O,[$(o("input",{type:s.type?s.type:"text",placeholder:s.placeholder?s.placeholder:"","onUpdate:modelValue":t[0]||(t[0]=l=>n.value=l),onKeypress:t[1]||(t[1]=l=>e.$emit("value",n.value)),onChange:t[2]||(t[2]=l=>e.$emit("value",n.value)),onFocusout:t[3]||(t[3]=l=>e.$emit("value",n.value)),class:"w-full bg-transparent text-black placeholder-black outline-none"},null,40,A),[[S,n.value]])])}const P=f(E,[["render",M]]),G="/qrcode.png",K="/hubforecast.png",z="/g.png",H="/github-mark-white.png";const g=L(),J={data(){return{form:{email:"",password:""},indirectLoginToken:""}},methods:{async login(){try{let e={url:"https://192.168.100.29:3000/session",method:"POST",withCredentials:!0,data:{email:this.form.email,password:this.form.password}},t=await T(e);if(t){if(g.setToken(t.data),this.setCookie("token",t.data,1),this.$route.query.postLoginURL)return this.$router.push(this.$route.query.postLoginURL);this.$router.push("/home")}}catch(e){console.log(e)}},password(e){this.form.password=e},email(e){this.form.email=e},setCookie(e,t,s){var i=new Date;i.setTime(i.getTime()+s*24*60*60*1e3);var n="expires="+i.toUTCString(),a=location.protocol==="https:"?"Secure":"";document.cookie=e+"="+t+"; "+n+"; path=/; SameSite=Strict; "+a}},mounted(){console.log(),c.emit("indirectLoginToken"),c.on("indirectLoginToken",e=>{this.indirectLoginToken=e}),c.on("indirectLoginGrant",e=>{g.setToken(e.token),window.location.href=window.location.origin+"/screen/"+e.displayId})},components:{divider:B,formInput:P,RouterLink:C}},h=e=>(v("data-v-68f1eff3"),e=e(),w(),e),Q={class:"w-full h-[94vh] sm:h-[100vh] flex items-center justify-center overflow-none bg-primary sm:grid sm:grid-cols-2 sm:p-12"},W={class:"hidden h-full sm:flex flex-col items-center justify-center gap-3 border-r-4 border-black"},X=h(()=>o("img",{src:G,alt:"Scan this qr code and connect using your smartphone"},null,-1)),Y={class:"text-5xl font-bold"},Z={class:"h-[70vh] w-[80vw] sm:w-full sm:h-full sm:px-24 2xl:py-[7em] flex flex-col justify-between"},ee=D('<div class="flex flex-col gap-4" data-v-68f1eff3><img src="'+K+'" alt="hubForecast brand" class="w-[6em] sm:w-[7em] 2xl:w-[12em]" data-v-68f1eff3><h1 class="text-2xl font-bold 2xl:pb-0 sm:pb-4 pb-0" data-v-68f1eff3>Sign in to continue</h1></div><section id="social-login" class="flex flex-col gap-4 items-start" data-v-68f1eff3><button class="2xl:h-14 sm:h-10 h-14 w-full bg-white flex items-center gap-4 px-4 hover:bg-[#DCDCDC] duration-[.4s]" data-v-68f1eff3><img src="'+z+'" alt="google &#39;g&#39; brand" class="w-8 sm:w-5 2xl:w-8" data-v-68f1eff3><span class="2xl:text-xl sm:text-sm text-xl roboto text-[000000]" style="font-weight:700;" data-v-68f1eff3>Log in with google</span></button><button class="2xl:h-14 sm:h-10 h-14 w-full bg-black flex items-center gap-4 px-4 hover:bg-[#393939] duration-[.4s]" data-v-68f1eff3><img src="'+H+'" alt="google &#39;g&#39; brand" class="w-8 sm:w-5 2xl:w-8" data-v-68f1eff3><span class="2xl:text-xl sm:text-sm text-xl roboto text-[white]" style="font-weight:700;" data-v-68f1eff3>Log in with github</span></button></section>',2),te=h(()=>o("span",{class:"text-right"},[o("a",{href:"#",class:"font-bold hover:underline"},"Forget password")],-1)),oe=h(()=>o("button",{class:"bg-[black] text-white h-14"},[o("span",{class:"text-xl font-bold"},"Entrar")],-1)),se={class:"flex justify-center w-full"},ne={class:"text-right"};function ae(e,t,s,i,n,a){const l=d("divider"),m=d("formInput"),y=d("RouterLink");return p(),u("div",Q,[o("div",W,[X,o("span",Y,x(n.indirectLoginToken.replace(/^(\w{3})(\d{4})(\d{3})$/,"$1-$2-$3")),1)]),o("div",Z,[ee,r(l,{text:"OU"}),o("form",{id:"login",onSubmit:t[0]||(t[0]=I((...k)=>a.login&&a.login(...k),["prevent"])),class:"w-full flex flex-col gap-4"},[r(m,{type:"email",placeholder:"Email",autocomplete:"email",onValue:a.email},null,8,["onValue"]),r(m,{type:"password",placeholder:"Password",onValue:a.password},null,8,["onValue"]),te,oe,o("div",se,[o("span",ne,[_("Don't have an account? "),r(y,{to:{name:"createAccount"},class:"font-bold hover:underline"},{default:V(()=>[_("Sign in")]),_:1})])])],32)])])}const le=f(J,[["render",ae],["__scopeId","data-v-68f1eff3"]]);export{le as default};
